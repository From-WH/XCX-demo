{"version":3,"sources":["webpack:///D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue?fdf8","webpack:///D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue?cb95","webpack:///D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue?032d","webpack:///D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue?3fc9","webpack:///D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue","webpack:///D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue?7b69","webpack:///D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue?31b8"],"names":["appModel","AppModel","name","data","userInfo","methods","mpGetUserInfo","result","detail","errMsg","wx","showToast","title","icon","duration","uni","setStorageSync","getList","checkSession","success","res","console","log","fail","login","code","params","getStorageSync","encryptedData","iv","then","response","$store","dispatch","token","$emit"],"mappings":"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","file":"components/common/userInfoBtn.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./userInfoBtn.vue?vue&type=template&id=43faae4e&scoped=true&\"\nvar renderjs\nimport script from \"./userInfoBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./userInfoBtn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userInfoBtn.vue?vue&type=style&index=0&id=43faae4e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43faae4e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('43faae4e')) {\n      api.createRecord('43faae4e', component.options)\n    } else {\n      api.reload('43faae4e', component.options)\n    }\n    module.hot.accept(\"./userInfoBtn.vue?vue&type=template&id=43faae4e&scoped=true&\", function () {\n      api.rerender('43faae4e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/xcxDEMO/jiedian-demo/jiedian-demo/components/common/userInfoBtn.vue\"\nexport default component.exports","export * from \"-!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userInfoBtn.vue?vue&type=template&id=43faae4e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userInfoBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userInfoBtn.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tAppModel\n} from '@/models/app.js'\nconst appModel = new AppModel();\nexport default {\n\tname: 'userInfoBtn',\n\tdata() {\n\t\treturn {\n\t\t\tuserInfo: {}\n\t\t}\n\t},\n\tmethods: {\n\t\tmpGetUserInfo(result) {\n\t\t\t//根据调用系统自带button携带的result信息判断是否有授权信息\n\t\t\tif (result.detail.errMsg !== 'getUserInfo:ok') {\n\t\t\t\twx.showToast({\n\t\t\t\t\ttitle: '取消授权',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t\t//hasUserInfo为存储用户是否授权信息\n\t\t\t\tuni.setStorageSync('hasUserInfo', false)\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tappModel.getList()\n\t\t\twx.checkSession({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log('有效', res);\n\t\t\t\t\t//因为用户授权后需求获取用户授权信息，所以这里必传encryptedData、iv两个参数获取用户头像和昵称信息\n\t\t\t\t\t// appModel.login({\n\t\t\t\t\t// \tcode: uni.getStorageSync('wxCode'),\n\t\t\t\t\t// \tencryptedData: result.detail.encryptedData,\n\t\t\t\t\t// \tiv: result.detail.iv\n\t\t\t\t\t// }).then(response => {\n\t\t\t\t\t// \tconsole.log(response)\n\t\t\t\t\t// \tthis.$store.dispatch('setUserInfo', response.data)\n\t\t\t\t\t// \tuni.setStorageSync('AuthTokens', response.data.token)\n\t\t\t\t\t// \tuni.setStorageSync('hasUserInfo', true)\n\t\t\t\t\t// \tthis.$emit('onClickBtn')\n\t\t\t\t\t// \tthis.userInfo = result.detail.userInfo\n\t\t\t\t\t// \tuni.login({\n\t\t\t\t\t// \t\tsuccess(response) {\n\t\t\t\t\t// \t\t\tuni.setStorageSync('wxCode', response.code);\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t})\n\t\t\t\t\t// })\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\tconsole.log('失效');\n\t\t\t\t\tuni.login({\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.code) {\n\t\t\t\t\t\t\t\tuni.setStorageSync('wxCode', res.code);\n\t\t\t\t\t\t\t\tconst params = {\n\t\t\t\t\t\t\t\t\tcode: res.code\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tappModel.login({\n\t\t\t\t\t\t\t\t\tcode: uni.getStorageSync('wxCode'),\n\t\t\t\t\t\t\t\t\tencryptedData: result.detail.encryptedData,\n\t\t\t\t\t\t\t\t\tiv: result.detail.iv\n\t\t\t\t\t\t\t\t}).then(response => {\n\t\t\t\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\t\t\t\tuni.login({\n\t\t\t\t\t\t\t\t\t\tsuccess(response) {\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('wxCode', response.code);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tthis.$store.dispatch('setUserInfo', response.data)\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('AuthTokens', response.data.token)\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('hasUserInfo', true)\n\t\t\t\t\t\t\t\t\tthis.$emit('onClickBtn')\n\t\t\t\t\t\t\t\t\tthis.userInfo = result.detail.userInfo\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('获取用户登录态失败！' + res.errMsg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function() {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '微信登录失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t}\n}\n","import mod from \"-!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userInfoBtn.vue?vue&type=style&index=0&id=43faae4e&lang=less&scoped=true&\"; export default mod; export * from \"-!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\uni-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./userInfoBtn.vue?vue&type=style&index=0&id=43faae4e&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}